% % 多言語対応 default languageを指定しないと勝手に英語化されたりする
% \usepackage{ifptex,ifxetex,ifluatex}
% \ifluatex
%     \usepackage{polyglossia}
%     \setdefaultlanguage{japanese}
%     \setotherlanguages{english,russian,greek}
%     % \newfontfamily\greekfont{Liberation Sans}[Mapping=tex-text]
%     % \newfontfamily\greekfontsf{Liberation Serif}[Mapping=tex-text]
%     % \newfontfamily\cyrillicfont{CMU Serif}[Script=Cyrillic,Mapping=tex-text]
%     % \newfontfamily\cyrillicfontsf{CMU Sans Serif}[Script=Cyrillic,Mapping=tex-text]
% \else\ifxetex
%         \usepackage{polyglossia}
%         \setdefaultlanguage{japanese}
%         \setotherlanguages{english,russian,greek}
%         % \newfontfamily\greekfont{Liberation Sans}[Mapping=tex-text]
%         % \newfontfamily\greekfontsf{Liberation Serif}[Mapping=tex-text]
%         % \newfontfamily\cyrillicfont{CMU Serif}[Script=Cyrillic,Mapping=tex-text]
%         % \newfontfamily\cyrillicfontsf{CMU Sans Serif}[Script=Cyrillic,Mapping=tex-text]
%     \else\ifuptex
%             \usepackage[korean,schinese,tchinese,greek,russian,english,japanese]{pxbabel} % for greek, russian
%         \else\ifstrictptex
%                 \usepackage[korean,schinese,tchinese,greek,russian,english,japanese]{pxbabel} % for greek, russian
%             \fi\fi\fi\fi

% for conditional commands
\usepackage{ifthen}

% for bibliography
\usepackage[backend=biber,style=ieee]{biblatex}

% for separate compilation
\usepackage{subfiles}

% set paths using \homedir for separate compilation
\graphicspath{{\homedir/figures/}}
\addbibresource{\homedir/reference.bib}


\newboolean{printBibInSubfiles}
\setboolean{printBibInSubfiles}{true}
\newcommand{\printBibForSubfiles}{
    \ifthenelse{\boolean{printBibInSubfiles}}
    {
        \printbibliography[title=参考文献]
    }{}
}

% table and array
\usepackage{array}
\usepackage{booktabs}   % \toprule, \midrule, \bottomrule in tabbler environment (with good spacing)
\usepackage{longtable}
% \usepackage{tabularx}
% \usepackage{ltablex}
% \renewcommand{\arraystretch}{0.5}
% \renewcommand{\doublerulesep}{1pt}

% caption
\usepackage{subcaption}
\captionsetup{compatibility=false}

% misc
% \usepackage[hyphens]{url}
% \usepackage{siunitx} %for SI unit
% \usepackage{algorithm,algpseudocode}
% \usepackage{minted} % pip install --user pygments %for code

% in­tel­li­gent cross-ref­er­enc­ing
%\crefname{env name}{singular}{plural}
% usage:
% in middle of line: \cref{<label>}, \cref{<label1>,<label2>,...} 
% at head of line:   \Cref{<label>}, \Cref{<label1>,<label2>,...} 
\usepackage[capitalise,noabbrev]{cleveref}
% for japanese
\crefformat{chapter}{#2{第}#1{章}#3}
\crefformat{section}{#2#1{}節#3}
\crefformat{subsection}{#2#1{}節#3}
\crefname{figure}{図}{図}
\crefname{table}{表}{表}
\crefname{equation}{式}{式}
\crefname{appendix}{付録}{付録}
\newcommand{\crefrangeconjunction}{--}
\newcommand{\crefpairconjunction}{，}
\newcommand{\crefmiddleconjunction}{，}
\newcommand{\creflastconjunction}{，}
\newcommand{\crefpairgroupconjunction}{，}
\newcommand{\crefmiddlegroupconjunction}{，}
\newcommand{\creflastgroupconjunction}{，}
% for english (only figure and table)
% \renewcommand{\figurename}{Fig.~}
% \renewcommand{\tablename}{Table~}
% \crefname{figure}{Fig.}{Figs.}
% \Crefname{figure}{Figure}{Figures}
% \crefname{table}{Table}{Tables}


% math font (integral, summation, product)
\ifptex
    \DeclareSymbolFont{cmlargesymbols}{OMX}{cmex}{m}{n}
    \DeclareMathSymbol{\intop}{\mathop}{cmlargesymbols}{"5A}
    \def\int{\intop\nolimits}
    \DeclareMathSymbol{\ointop}{\mathop}{cmlargesymbols}{"49}
    \def\oint{\ointop\nolimits}
    \DeclareMathSymbol{\sumop}{\mathop}{cmlargesymbols}{"58}
    \let\sum\sumop
    \DeclareMathSymbol{\prodop}{\mathop}{cmlargesymbols}{"59}
    \let\prod\prodop
\fi
